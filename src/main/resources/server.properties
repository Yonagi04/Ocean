# Server config
server.url=localhost
server.version=1.0.0
server.port=8080
server.webroot=./www
server.thread_pool.core_size=16
server.thread_pool.max_size=32
server.thread_pool.queue_capacity=1000
server.thread_pool.keep_alive_seconds=60
server.thread.virtual_threads_enabled=true

server.controller.base_package=

# Admin endpoint config
server.admin.uri=/admin
server.admin.metrics.uri=/metrics
server.admin.health.uri=/health
server.admin.whitelist=127.0.0.1,192.168.0.0/16

# HTTP Keep-Alive config
server.keep_alive.enabled=true
server.keep_alive.timeout_seconds=60
server.keep_alive.max_requests=100
server.keep_alive.timeout_check_interval_seconds=30

# SSL config
server.ssl.enabled=true
server.ssl.port=8443
server.ssl.key_store_type=JKS
server.ssl.key_store_path=./key/keystore.jks
server.ssl.key_store_password=your_keystore_password
server.ssl.key_alias=server_alias
server.ssl.key_password=your_key_password
server.ssl.redirect_ssl=false

## HSTS config
server.ssl.hsts.max_age=31536000
server.ssl.hsts.enabled_include_subdomains=true
server.ssl.hsts.enabled_preload=false

# CORS config
server.cors.enabled=true
server.cors.allow_origin=*
server.cors.allow_methods=GET,POST,PUT,DELETE,OPTIONS
server.cors.allow_headers=Content-Type,Authorization
server.cors.expose_headers=Content-Length,Content-Type
server.cors.allow_credentials=true
server.cors.max_age=3600

## Nacos Configuration for CORS
server.cors.nacos.data_id=server-cors-config.properties
server.cors.nacos.group=DEFAULT_GROUP
server.cors.nacos.sync_to_local=true
server.cors.nacos.sync_local_path=./backup/nacos/cors_nacos_${timestamp}.properties
server.cors.nacos.sync_interval_seconds=3600

# Router config
server.router.enabled=true
server.router.config_file_path=/config/route.json
server.router.cache_size=256
server.router.cache_ttl_seconds=3600
server.router.cache_cleanup_interval_seconds=30

## Nacos Configuration for dynamic router settings
server.router.nacos.data_id=server-router-config.json
server.router.nacos.group=DEFAULT_GROUP
server.router.nacos.sync_to_local=true
server.router.nacos.sync_local_path=./backup/nacos/route_nacos_${timestamp}.json
server.router.nacos.sync_interval_seconds=3600

# Reverse Proxy config
server.reverse_proxy.enabled=true
server.reverse_proxy.connect_timeout_millis=5000
server.reverse_proxy.client_remove_delay_millis=2000
server.reverse_proxy.config_file_path=/config/reverse_proxy.json

## Nacos Configuration for dynamic reverse proxy settings
server.reverse_proxy.nacos.data_id=server-reverse-proxy-config.json
server.reverse_proxy.nacos.group=DEFAULT_GROUP
server.reverse_proxy.nacos.sync_to_local=true
server.reverse_proxy.nacos.sync_local_path=./backup/nacos/reverse_proxy_nacos_${timestamp}.json
server.reverse_proxy.nacos.sync_interval_seconds=3600

# Load Balance config
server.load_balance.enabled=true
server.load_balance.recovery_interval_millis=30000
server.load_balance.failure_threshold=3
server.load_balance.slow_response_max_latency=1000
server.load_balance.health_check.path=/health

# Redirect config
server.redirect.whitelist=baidu.com,google.com,yahoo.com,bilibili.com
server.redirect.fallback_url=localhost:8080

# Upload and download config
server.upload.dir=./uploads
server.upload.max_file_size_mb=50
server.upload.memory_threshold_mb=10

server.download.dir=./uploads

# HTTP Caching config
server.http_cache.enabled=true
server.http_cache.max_age_seconds=3600
server.http_cache.cache_scope=public

# GZIP config
server.gzip.enabled=true
server.gzip.min_content_length=1024
server.gzip.compression_level=6

## Nacos Configuration for dynamic gzip settings
server.gzip.nacos.data_id=server-gzip-config.properties
server.gzip.nacos.group=DEFAULT_GROUP
server.gzip.nacos.sync_to_local=true
server.gzip.nacos.sync_local_path=./backup/nacos/gzip_nacos_${timestamp}.properties
server.gzip.nacos.sync_interval_seconds=3600

# Server-Side Caching config

## Enable or disable caching
server.cache.enabled=false

## Cache type can be "LRU" or "Caffeine"
server.cache.type=Caffeine

## LRU Cache specific settings, if LRU is chosen

### LRU Memory Cleanup Policy, can be "MEMORY" or "ENTRIES"
### If set to "MEMORY", the cache will evict entries based on memory usage.
### If set to "ENTRIES", the cache will evict entries based on the number of entries.
server.cache.lru.policy=MEMORY

### LRU Cache size settings, depends on the chosen policy
server.cache.lru.max_entries=100
server.cache.lru.max_memory_mb=64

### LRU Cache expiration TTL in millisSeconds
server.cache.lru.ttl_ms=60000

### LRU Cache cleanup TTL in millisSeconds
server.cache.lru.cleanup_interval_ms=30000

### Enable dynamic adjustment of LRU cache size based on usage
server.cache.lru.dynamic_adjustment=true
server.cache.lru.dynamic_adjustment_interval_ms=60000

## Caffeine Cache specific settings, if Caffeine is chosen

### Caffeine Memory Cleanup Policy, can be "MEMORY" or "ENTRIES"
### If set to "MEMORY", the cache will evict entries based on memory usage.
### If set to "ENTRIES", the cache will evict entries based on the number of entries.
server.cache.caffeine.policy=MEMORY

### Caffeine Cache size settings, depends on the chosen policy
server.cache.caffeine.max_entries=100
server.cache.caffeine.max_memory_mb=64

### Caffeine Cache expiration settings
### If set to "ACCESS", the cache will evict entries based on access time.
### If set to "WRITE", the cache will evict entries based on write time.
server.cache.caffeine.expire_type=ACCESS
server.cache.caffeine.ttl_ms=60000

### Use soft values in Caffeine cache to allow GC to reclaim memory if needed
server.cache.caffeine.is_soft_values=true

## Nacos Configuration for Server-Side cache settings
server.cache.nacos.data_id=server-cache-config.properties
server.cache.nacos.group=DEFAULT_GROUP
server.cache.nacos.sync_to_local=true
server.cache.nacos.sync_local_path=./backup/nacos/cache_nacos_${timestamp}.properties
server.cache.nacos.sync_interval_seconds=3600

# Rate Limiting config
server.rate_limit.enabled=true
server.rate_limit.config_file_path=/config/ratelimit.json

## GLOBAL_URI Plan
### capacity: The maximum simultaneous/burst requests across all clients for this URI.
### rate: average number of requests allowed per second for this URI, for entire system.
server.rate_limit.global_uri.capacity=1000
server.rate_limit.global_uri.rate=0.1667

## IP_URI Plan
### capacity: Each IP gets a burst requests for this URI.
### rate: average number of requests allowed per second for this uri, for each IP.
server.rate_limit.ip_uri.capacity=1000
server.rate_limit.ip_uri.rate=0.1667

## IP_GLOBAL Plan
### capacity: Each IP gets a burst requests for entire system.
### rate: average number for total API consumption, for entire system.
server.rate_limit.ip_global.capacity=1000
server.rate_limit.ip_global.rate=0.1667

## Nacos Configuration for Rate Limiting settings
server.rate_limit.nacos.data_id=server-ratelimit-config.json
server.rate_limit.nacos.group=DEFAULT_GROUP
server.rate_limit.nacos.sync_to_local=true
server.rate_limit.nacos.sync_local_path=./backup/nacos/ratelimit_nacos_${timestamp}.json
server.rate_limit.nacos.sync_interval_seconds=3600

# Nacos config
nacos.enabled=true
nacos.server_addr=127.0.0.1:8848
nacos.timeout_ms=5000

## Nacos retry settings
nacos.retry_interval_ms=5000
nacos.max_retries=3

## Nacos config backup settings
nacos.backup.thread_pool_size=2

## Nacos Reconnect settings
nacos.reconnect.enabled=true
nacos.reconnect.inverval_seconds=60